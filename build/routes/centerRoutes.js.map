{"version":3,"sources":["../../src/routes/centerRoutes.js"],"names":["router","post","isSuper","req","res","body","name","city","adminCenter","connection","newCenter","center","getRepository","save","error","console","log","json","message"],"mappings":";;;;;;;;;;;;;AAAA;;AACA;;AACA;;AACA;;AAGA,IAAMA,MAAM,GAAG,sBAAf,C,CAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAKAA,MAAM,CAACC,IAAP,CAAY,MAAZ,EAAmBC,mBAAnB;AAAA,2FAA4B,iBAAOC,GAAP,EAAYC,GAAZ;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA,wBACYD,GAAG,CAACE,IADhB,EAChBC,IADgB,aAChBA,IADgB,EACVC,IADU,aACVA,IADU,EACJC,WADI,aACJA,WADI;AAElBC,YAAAA,UAFkB,GAEL,6BAFK,EAGxB;;AACQC,YAAAA,SAJgB,GAIJ,IAAIC,cAAJ,EAJI;AAKpBD,YAAAA,SAAS,CAACJ,IAAV,GAAiBA,IAAjB;AACAI,YAAAA,SAAS,CAACH,IAAV,GAAiBA,IAAjB;AACAG,YAAAA,SAAS,CAACF,WAAV,GAAwBA,WAAxB;AAPoB;AAAA,mBAQFC,UAAU,CACvBG,aADa,CACC,QADD,EAEbC,IAFa,CAERH,SAFQ,WAGP,UAAAI,KAAK,EAAI;AACZC,cAAAA,OAAO,CAACC,GAAR,CAAYF,KAAZ;AACH,aALa,CARE;;AAAA;AAQpBJ,YAAAA,SARoB;AAcpBK,YAAAA,OAAO,CAACC,GAAR,CAAYN,SAAZ,EAdoB,CAexB;;AAEAN,YAAAA,GAAG,CAACa,IAAJ,CAAS;AACLC,cAAAA,OAAO,EAAE;AADJ,aAAT;;AAjBwB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAA5B;;AAAA;AAAA;AAAA;AAAA","sourcesContent":["import { getConnection } from \"typeorm\";\r\nimport { Router } from \"express\"\r\nimport { center } from \"../models\";\r\nimport { hashPassword, checkPassword, generateToken, isSuper } from \"../middleware\";\r\n\r\n\r\nconst router = Router();\r\n\r\n//products catgeory  array \r\n// let centers = [\r\n//     {\r\n//         name: \"marjane\",\r\n//         city: \"safi\"\r\n//     },\r\n//     {\r\n//         name: \"marjane\",\r\n//         city:\"agadir\"\r\n//     }\r\n// ]\r\n\r\n\r\n\r\n\r\nrouter.post('/add',isSuper, async (req, res) => {\r\n    const { name, city ,adminCenter } = req.body;\r\n    const connection = getConnection()\r\n    // centers.forEach(async cent => {\r\n        let newCenter = new center()\r\n        newCenter.name = name\r\n        newCenter.city = city\r\n        newCenter.adminCenter = adminCenter\r\n        newCenter = await connection\r\n            .getRepository(\"center\")\r\n            .save(newCenter)\r\n            .catch(error => {\r\n                console.log(error);\r\n            })\r\n        console.log(newCenter);\r\n    // })\r\n\r\n    res.json({\r\n        message: \"Center added\"\r\n    })\r\n})\r\n\r\n\r\n\r\nexport { router as center }"],"file":"centerRoutes.js"}