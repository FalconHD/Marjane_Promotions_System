{"version":3,"sources":["../../src/routes/productsRoutes.js"],"names":["router","electrs","name","price","category","image","toys","fashion","homeGarden","sports","healthBeauty","automotive","get","req","res","connection","getRepository","find","cetegories","console","log","allo","forEach","p","newProd","product","Math","floor","random","length","save","error","relations","products","json"],"mappings":"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","sourcesContent":["import { getConnection } from \"typeorm\";\r\nimport { Router } from \"express\"\r\nimport { superAdmin, product, category } from \"../models\";\r\nimport { hashPassword, checkPassword, generateToken, isSuper } from \"../middleware\";\r\n\r\n\r\nconst router = Router();\r\n\r\n//products array with category id \r\nlet electrs = [\r\n    {\r\n\r\n        name: \"Apple iPhone XR (64GB) - Space Gray\",\r\n        price: \"1,000\",\r\n        category: 1,\r\n        image: \"https://images-na.ssl-images-amazon.com/images/I/61-QZq-QZGL._SL1500_.jpg\"\r\n    },\r\n    {\r\n\r\n        name: \"Apple iPhone XR (64GB) - Silver\",\r\n        price: \"1,000\",\r\n        category: 1,\r\n        image: \"https://images-na.ssl-images-amazon.com/images/I/61-QZq-QZGL._SL1500_.jpg\"\r\n    },\r\n    {\r\n\r\n        name: \"Apple iPhone XR (64GB) - Gold\",\r\n        price: \"1,000\",\r\n        category: 1,\r\n        image: \"https://images-na.ssl-images-amazon.com/images/I/61-QZq-QZGL._SL1500_.jpg\"\r\n    }\r\n]\r\n\r\n\r\n//toys array with category \r\nlet toys = [\r\n    {\r\n\r\n        name: \"Toy Car\",\r\n        price: \"1,000\",\r\n        category: 6,\r\n        image: \"https://images-na.ssl-images-amazon.com/images/I/61-QZq-QZGL._SL1500_.jpg\"\r\n    },\r\n    {\r\n\r\n        name: \"Toy Car\",\r\n        price: \"1,000\",\r\n        category: 6,\r\n        image: \"https://images-na.ssl-images-amazon.com/images/I/61-QZq-QZGL._SL1500_.jpg\"\r\n    }\r\n]\r\n\r\n//fashion array with category \r\nlet fashion = [\r\n    {\r\n\r\n        name: \"Fashion product 1\",\r\n        price: \"1,000\",\r\n        category: 2,\r\n        image: \"https://images-na.ssl-images-amazon.com/images/I/61-QZq-QZGL._SL1500_.jpg\"\r\n    },\r\n    {\r\n\r\n        name: \"Fashion product 2\",\r\n        price: \"1,000\",\r\n        category: 2,\r\n\r\n        image: \"https://images-na.ssl-images-amazon.com/images/I/61-QZq-QZGL._SL1500_.jpg\"\r\n    },\r\n]\r\n\r\n//home & garden array with category \r\nlet homeGarden = [\r\n    {\r\n\r\n        name: \"Home & Garden product 1\",\r\n        price: \"1,000\",\r\n        category: 3,\r\n        image: \"https://images-na.ssl-images-amazon.com/images/I/61-QZq-QZGL._SL1500_.jpg\"\r\n    },\r\n    {\r\n\r\n        name: \"Home & Garden product 2\",\r\n        price: \"1,000\",\r\n        category: 3,\r\n        image: \"https://images-na.ssl-images-amazon.com/images/I/61-QZq-QZGL._SL1500_.jpg\"\r\n    },\r\n]\r\n\r\n//sports array with category \r\nlet sports = [\r\n    {\r\n\r\n        name: \"Sports product 1\",\r\n        price: \"1,000\",\r\n        category: 4,\r\n        image: \"https://images-na.ssl-images-amazon.com/images/I/61-QZq-QZGL._SL1500_.jpg\"\r\n    },\r\n    {\r\n\r\n        name: \"Sports product 2\",\r\n        price: \"1,000\",\r\n        category: 4,\r\n        image: \"https://images-na.ssl-images-amazon.com/images/I/61-QZq-QZGL._SL1500_.jpg\"\r\n    },\r\n]\r\n\r\n//health & beauty array with category \r\nlet healthBeauty = [\r\n    {\r\n\r\n        name: \"Health & Beauty product 1\",\r\n        price: \"1,000\",\r\n        category: 7,\r\n        image: \"https://images-na.ssl-images-amazon.com/images/I/61-QZq-QZGL._SL1500_.jpg\"\r\n    },\r\n    {\r\n\r\n        name: \"Health & Beauty product 2\",\r\n        price: \"1,000\",\r\n        category: 7,\r\n        image: \"https://images-na.ssl-images-amazon.com/images/I/61-QZq-QZGL._SL1500_.jpg\"\r\n    },\r\n]\r\n\r\n//automotive array with category \r\nlet automotive = [\r\n    {\r\n\r\n        name: \"Automotive product 1\",\r\n        price: \"1,000\",\r\n        category: \"6756440a-cbd6-462e-a51a-05b87357e32e\",\r\n        image: \"https://images-na.ssl-images-amazon.com/images/I/61-QZq-QZGL._SL1500_.jpg\"\r\n    },\r\n    {\r\n\r\n        name: \"Automotive product 2\",\r\n        price: \"1,000\",\r\n        category: \"99c7f9c5-2b56-453d-84e1-d1fe3814ad47\",\r\n        image: \"https://images-na.ssl-images-amazon.com/images/I/61-QZq-QZGL._SL1500_.jpg\"\r\n    },\r\n]\r\n\r\n\r\n\r\n\r\nrouter.get('/add', async (req, res) => {\r\n    const connection = getConnection()\r\n\r\n    const cetegories = await connection.getRepository(category).find()\r\n\r\n    console.log(cetegories);\r\n\r\n    const allo = [...electrs, ...toys, ...fashion, ...homeGarden, ...sports, ...healthBeauty, ...automotive]\r\n    allo.forEach(async (p) => {\r\n        let newProd = new product()\r\n        newProd.name = p.name\r\n        newProd.category = cetegories[Math.floor(Math.random() * cetegories.length)]\r\n        newProd.price = Math.floor(Math.random() * 5000)\r\n        newProd = await connection\r\n            .getRepository(\"product\")\r\n            .save(newProd)\r\n            .catch(error => {\r\n                console.log(error);\r\n            })\r\n        console.log(newProd);\r\n    })\r\n})\r\n\r\nrouter.get('/all', async (req, res) => {\r\n    const connection = getConnection()\r\n\r\n    console.log(connection);\r\n    const products = await connection\r\n        .getRepository(\"product\")\r\n        .find({\r\n            relations: ['category']\r\n        })\r\n        .catch(error => {\r\n            console.log(error);\r\n        })\r\n    res.json(products)\r\n})\r\n\r\n\r\n\r\n\r\nexport { router as Products }"],"file":"productsRoutes.js"}